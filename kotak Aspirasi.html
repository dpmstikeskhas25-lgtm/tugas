<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kotak Aspirasi - DPM STIKes KHAS</title>
    <link rel="stylesheet" type="text/css" href="css/style.css"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <body class="aspiration-page-bg"></body>
    
    <header>
        <nav class="container">
            <h1><i class=""></i> Dewan Perwakilan Mahasiswa</h1>
            <ul>
                <li><a href="beranda.html">Beranda</a></li>   
                <li>
                    <a href="tentangkami.html">Tentang Kami <i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown">
                        <li><a href="visi-misi.html">Visi & Misi</a></li>
                        <li><a href="structure.html">Struktur</a></li>
                        <li><a href="tugas-fungsi.html">Tugas & Fungsi</a></li>
                    </ul>
                </li>
                <li><a href="berita.html">Berita</a></li>
                <li><a href="kotak Aspirasi.html">Kotak aspirasi</a></li>
            </ul>
        </nav>
    </header>
    

    <section class="aspiration-page">
        <div class="container">
            <div class="aspiration-card">
                <div class="aspiration-header">
                    <h2>Suara Mahasiswa</h2>
                    <p>Suara adalah perubahan bagi kampus kita. Sampaikan aspirasi, kritik, atau saran Anda secara terbuka dan bertanggung jawab demi kemajuan STIKes KHAS Kempek.</p>
                </div>

                <form id="my-form" action="https://formspree.io/f/mrezjllg" method="POST" class="aspiration-form">
                    <div class="form-group">
                        <label for="nama"><i class="fas fa-user"></i> Nama </label>
                        <input type="text" id="nama" name="Nama" placeholder="Masukkan nama Anda...">
                    </div>

                    <div class="form-group">
                        <label for="email"><i class="fas fa-envelope"></i> Email Aktif</label>
                        <input type="email" id="email" name="Email" placeholder="nama@email.com" required>
                    </div>

                    <div class="form-group">
                        <label for="pesan"><i class="fas fa-comment-dots"></i> Aspirasi Anda</label>
                        <textarea id="pesan" name="Aspirasi" placeholder="Tuliskan aspirasi secara jelas..." required></textarea>
                    </div>

                    <button id="my-form-button" type="submit" class="btn btn-primary btn-full">Kirim Aspirasi</button>
                    <p id="my-form-status" style="text-align: center; margin-top: 15px; font-weight: 600;"></p>
                </form>
            </div>
        </div>
    </section>
    
    <script>
        var form = document.getElementById("my-form");
        
        async function handleSubmit(event) {
          event.preventDefault();
          var status = document.getElementById("my-form-status");
          var button = document.getElementById("my-form-button");
          var data = new FormData(event.target);
          
          button.disabled = true;
          button.innerText = "Sedang Mengirim...";

          fetch(event.target.action, {
            method: form.method,
            body: data,
            headers: {
                'Accept': 'application/json'
            }
          }).then(response => {
            if (response.ok) {
              status.innerHTML = "Terima kasih! Aspirasi Anda berhasil dikirim.";
              status.style.color = "#28a745";
              form.reset();
              button.disabled = false;
              button.innerText = "Kirim Aspirasi";
            } else {
              response.json().then(data => {
                if (Object.hasOwn(data, 'errors')) {
                  status.innerHTML = data["errors"].map(error => error["message"]).join(", ");
                } else {
                  status.innerHTML = "Oops! Terjadi kendala saat mengirim.";
                }
              })
            }
          }).catch(error => {
            status.innerHTML = "Oops! Ada masalah koneksi.";
            status.style.color = "red";
          });
        }
        form.addEventListener("submit", handleSubmit)
    </script>
  
   <footer>
        <div class="container footer-container">
            
            <div class="footer-col">
                <h4>DPM STIKes Khas Kempek</h4>
                <p>Membangun Organisasi Yang Tertib Adninistrasi Dan Berinegritas</p>
                <div class="social-links" style="margin-top: 15px;">
                    <a href="https://www.instagram.com/dpmstikeskhas/#" style="display: inline-block; margin-right: 10px; color: white;"><i class="fab fa-instagram"></i></a>
                    <a href="https://www.tiktok.com/@dpmstikeskhas" style="display: inline-block; margin-right: 10px; color: white;"><i class="fa-brands fa-tiktok"></i></a>

                </div>
            </div>

        

            <div class="footer-col">
                <h4>Navigasi Cepat</h4>
                <a href="beranda.html">Beranda</a>
                <a href="tentangkami.html">Tentang Kami</a>
                <a href="structure.html">Struktur</a>
                <a href="berita.html">Berita</a>
                <a href="kotak Aspirasi.html">Kotak Aspirasi</a>
            </div>

            <div class="footer-col" id="contact">
                <h4>Hubungi Kami</h4>
                <p><i class="fas fa-envelope"></i> dpmstikeskhas25@gmail.com</p>
                <p><i class="fas fa-phone"></i> +62 838 1893 5831</p>
                <p><i class="fas fa-map-marker-alt"></i> STIKes Khas Kempek, Cirebon</p>
            </div>
            
        </div>
        <div class="footer-bottom">
            &copy;2025 - Dewan Perwakilan Mahasiswa STIKes Khas Kempek. All Rights Reserved.
        </div>
    </footer>
    
    <script>
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();

                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });
    </script>
</body>
</html>
